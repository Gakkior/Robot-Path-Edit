# ğŸ“ é¡¹ç›®ç»“æ„

## æ€»ä½“æ¶æ„

```
robot-path-editor/
â”œâ”€â”€ cmd/                    # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ server/            # ä¸»æœåŠ¡å™¨
â”‚   â””â”€â”€ demo/              # æ¼”ç¤ºç‰ˆæœ¬
â”œâ”€â”€ internal/              # å†…éƒ¨åŒ… (Goåç«¯)
â”‚   â”œâ”€â”€ app/              # åº”ç”¨ç¨‹åºç»„è£…å™¨
â”‚   â”œâ”€â”€ config/           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ database/         # æ•°æ®åº“é€‚é…å™¨
â”‚   â”œâ”€â”€ domain/           # é¢†åŸŸæ¨¡å‹
â”‚   â”œâ”€â”€ handlers/         # HTTPå¤„ç†å™¨
â”‚   â”œâ”€â”€ repositories/     # æ•°æ®ä»“å‚¨å±‚
â”‚   â””â”€â”€ services/         # ä¸šåŠ¡æœåŠ¡å±‚
â”œâ”€â”€ frontend/              # ç°ä»£å‰ç«¯ (React)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/   # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/     # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stores/       # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/        # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ package.json      # å‰ç«¯ä¾èµ–
â”‚   â””â”€â”€ vite.config.ts    # Viteé…ç½®
â”œâ”€â”€ pkg/                   # å…¬å…±åŒ…
â”‚   â”œâ”€â”€ logger/           # æ—¥å¿—ç»„ä»¶
â”‚   â””â”€â”€ middleware/       # ä¸­é—´ä»¶
â”œâ”€â”€ web/                   # ç»å…¸å‰ç«¯èµ„æº
â”‚   â””â”€â”€ static/           # é™æ€æ–‡ä»¶
â”œâ”€â”€ scripts/               # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ build.sh          # Linux/macOSæ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build.bat         # Windowsæ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ dev-start.sh      # Linuxå¼€å‘å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ dev-start.bat     # Windowså¼€å‘å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ build-frontend.sh # å‰ç«¯æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ init.sql          # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ DEPLOYMENT.md     # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ API.md            # APIæ–‡æ¡£
â”‚   â””â”€â”€ PROJECT_STRUCTURE.md # é¡¹ç›®ç»“æ„è¯´æ˜
â”œâ”€â”€ configs/               # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.yaml       # ä¸»é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.yaml.example # é…ç½®ç¤ºä¾‹
â”œâ”€â”€ data/                  # æ•°æ®å­˜å‚¨ç›®å½•
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/             # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ integration/      # é›†æˆæµ‹è¯•
â”œâ”€â”€ build/                 # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ docker-compose.yml     # Docker Composeé…ç½®
â”œâ”€â”€ Dockerfile            # Dockeré•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ go.mod               # Goæ¨¡å—å®šä¹‰
â”œâ”€â”€ go.sum               # Goä¾èµ–é”å®š
â”œâ”€â”€ README.md            # é¡¹ç›®ä¸»æ–‡æ¡£
â””â”€â”€ CHANGELOG.md         # å˜æ›´æ—¥å¿—
```

## æ ¸å¿ƒç›®å½•è¯´æ˜

### `/cmd` - åº”ç”¨å…¥å£
- `server/main.go`: å®Œæ•´ç‰ˆæœåŠ¡å™¨ï¼Œæ”¯æŒæ•°æ®åº“é…ç½®
- `demo/main.go`: æ¼”ç¤ºç‰ˆæœ¬ï¼Œå†…ç½®SQLiteï¼Œæ— éœ€é…ç½®

### `/internal` - åç«¯æ ¸å¿ƒä»£ç 
é‡‡ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡ (DDD) æ¶æ„ï¼š

```
Handlerå±‚ â†’ Serviceå±‚ â†’ Repositoryå±‚ â†’ Domainå±‚
    â†“          â†“            â†“           â†“
HTTPæ¥å£   ä¸šåŠ¡é€»è¾‘      æ•°æ®è®¿é—®      æ ¸å¿ƒæ¨¡å‹
```

- **Domain**: æ ¸å¿ƒä¸šåŠ¡æ¨¡å‹ (Node, Path, Templateç­‰)
- **Services**: ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå¤„ç†å¤æ‚ä¸šåŠ¡è§„åˆ™
- **Repositories**: æ•°æ®è®¿é—®å±‚ï¼ŒæŠ½è±¡ä¸åŒæ•°æ®æº
- **Handlers**: HTTPå¤„ç†å™¨ï¼Œå¤„ç†Webè¯·æ±‚

### `/frontend` - ç°ä»£å‰ç«¯
React + TypeScript + Vite æŠ€æœ¯æ ˆï¼š

- **components/**: å¯å¤ç”¨çš„Reactç»„ä»¶
  - `Canvas/`: ç”»å¸ƒç›¸å…³ç»„ä»¶
  - `Sidebar/`: ä¾§è¾¹æ ç»„ä»¶
  - `Toolbar/`: å·¥å…·æ ç»„ä»¶
  - `ui/`: åŸºç¡€UIç»„ä»¶ (åŸºäºRadix UI)
- **services/**: APIæœåŠ¡å’Œæ•°æ®è·å–
- **stores/**: ZustandçŠ¶æ€ç®¡ç†
- **types/**: TypeScriptç±»å‹å®šä¹‰
- **utils/**: å·¥å…·å‡½æ•°

### `/web` - ç»å…¸å‰ç«¯
åŸç”ŸJavaScript + HTML + CSSï¼š

- `static/`: é™æ€èµ„æºæ–‡ä»¶
- `app.js`: ä¸»åº”ç”¨é€»è¾‘
- `canvas.js`: ç”»å¸ƒæ“ä½œ
- `table.js`: è¡¨æ ¼åŠŸèƒ½

### `/scripts` - æ„å»ºè„šæœ¬
- `build.sh/build.bat`: åº”ç”¨ç¨‹åºæ„å»º
- `dev-start.sh/dev-start.bat`: å¼€å‘ç¯å¢ƒå¯åŠ¨
- `build-frontend.sh`: å‰ç«¯èµ„æºæ„å»º

### `/docs` - é¡¹ç›®æ–‡æ¡£
- `DEPLOYMENT.md`: è¯¦ç»†éƒ¨ç½²æŒ‡å—
- `API.md`: APIæ¥å£æ–‡æ¡£
- `PROJECT_STRUCTURE.md`: æœ¬æ–‡æ¡£

## æ•°æ®æµæ¶æ„

### è¯·æ±‚å¤„ç†æµç¨‹
```
HTTPè¯·æ±‚ â†’ Ginè·¯ç”± â†’ Handler â†’ Service â†’ Repository â†’ Database
                                    â†“
HTTPå“åº” â† JSONåºåˆ—åŒ– â† Domainæ¨¡å‹ â† æ•°æ®æŸ¥è¯¢ç»“æœ
```

### å‰ç«¯æ¶æ„
```
ç”¨æˆ·äº¤äº’ â†’ Reactç»„ä»¶ â†’ ZustandçŠ¶æ€ â†’ APIæœåŠ¡ â†’ åç«¯æ¥å£
                         â†“
ç”»å¸ƒæ›´æ–° â† çŠ¶æ€å˜æ›´ â† React Queryç¼“å­˜ â† APIå“åº”
```

## æ–‡ä»¶å‘½åè§„èŒƒ

### Goä»£ç 
- æ–‡ä»¶åï¼š`snake_case.go`
- åŒ…åï¼š`lowercase`
- ç±»å‹åï¼š`PascalCase`
- å‡½æ•°åï¼š`camelCase` (å…¬å¼€) / `camelCase` (ç§æœ‰)

### å‰ç«¯ä»£ç 
- ç»„ä»¶æ–‡ä»¶ï¼š`PascalCase.tsx`
- å·¥å…·æ–‡ä»¶ï¼š`camelCase.ts`
- æ ·å¼æ–‡ä»¶ï¼š`kebab-case.css`

### é…ç½®æ–‡ä»¶
- é…ç½®ï¼š`kebab-case.yaml`
- è„šæœ¬ï¼š`kebab-case.sh/.bat`
- æ–‡æ¡£ï¼š`UPPERCASE.md`

## ç«¯å£åˆ†é…

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| åç«¯API | 8080 | ä¸»æœåŠ¡å™¨ç«¯å£ |
| å‰ç«¯å¼€å‘ | 5173 | Viteå¼€å‘æœåŠ¡å™¨ |
| MySQL | 3306 | æ•°æ®åº“ç«¯å£ |
| Redis | 6379 | ç¼“å­˜ç«¯å£ (å¯é€‰) |

## ç¯å¢ƒåŒºåˆ†

### å¼€å‘ç¯å¢ƒ
- å‰ç«¯ï¼šViteå¼€å‘æœåŠ¡å™¨ (5173)
- åç«¯ï¼š`go run` ç›´æ¥è¿è¡Œ
- æ•°æ®åº“ï¼šæœ¬åœ°SQLite

### ç”Ÿäº§ç¯å¢ƒ
- å‰ç«¯ï¼šé™æ€æ–‡ä»¶åµŒå…¥åç«¯
- åç«¯ï¼šç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶
- æ•°æ®åº“ï¼šMySQL/PostgreSQL

### Dockerç¯å¢ƒ
- åº”ç”¨ï¼šå®¹å™¨åŒ–éƒ¨ç½²
- æ•°æ®åº“ï¼šDocker Composeç®¡ç†
- ç½‘ç»œï¼šå†…éƒ¨å®¹å™¨ç½‘ç»œ